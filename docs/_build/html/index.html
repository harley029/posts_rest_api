<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Posts and comments REST API documentation &#8212; Posts and comments REST API  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=279e0f84" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Posts and comments REST API  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Posts and comments REST API documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="posts-and-comments-rest-api-documentation">
<h1>Posts and comments REST API documentation<a class="headerlink" href="#posts-and-comments-rest-api-documentation" title="Link to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="module-main">
<span id="rest-api-main"></span><h1>REST API main<a class="headerlink" href="#module-main" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="main.database_healthchecker">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">database_healthchecker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.database_healthchecker" title="Link to this definition">¶</a></dt>
<dd><p>This function is a route handler for the “/api/healthchecker” endpoint. It checks the connection to the database and returns a success message if the connection is established.</p>
<p>Parameters:
- db (AsyncSession): A dependency representing the database session. It is obtained using the <cite>get_db</cite> function.</p>
<p>Returns:
- dict: A dictionary containing a message indicating that the connection to the database is established.</p>
<p>Raises:
- HTTPException: If there is an error connecting to the database, an HTTPException with a status code of 500 and a message indicating the error is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.redis_healthchecker">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">redis_healthchecker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(test)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(test)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_redis_client)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.redis_healthchecker" title="Link to this definition">¶</a></dt>
<dd><p>This function is a route handler for the “/api/redis_healthchecker” endpoint. It checks the connection to the Redis database and returns a success message if the connection is established.</p>
<p>Parameters:
- key (str): A string representing the key to be set in the Redis database. Default is “test”.
- value (str): A string representing the value to be set for the given key in the Redis database. Default is “test”.
- redis_client (Redis): A dependency representing the Redis client. It is obtained using the <cite>get_redis_client</cite> function.</p>
<p>Returns:
- dict: A dictionary containing a message indicating that the connection to the Redis database is established.</p>
<p>Raises:
- HTTPException: If there is an error connecting to the Redis database, an HTTPException with a status code of 500 and a message indicating the error is raised.</p>
</dd></dl>

</section>
<section id="module-src.database.db">
<span id="rest-api-database"></span><h1>REST API Database<a class="headerlink" href="#module-src.database.db" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.database.db.get_db">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.database.db.</span></span><span class="sig-name descname"><span class="pre">get_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.database.db.get_db" title="Link to this definition">¶</a></dt>
<dd><p>Asynchronously creates a database session using SQLAlchemy’s async_sessionmaker.</p>
<p>Parameters:
None</p>
<p>Returns:
async_generator: An asynchronous generator yielding a SQLAlchemy session.</p>
<p>Raises:
HTTPException: If a SQLAlchemyError occurs during session creation, a 500 error is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.database.db.get_redis_client">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.database.db.</span></span><span class="sig-name descname"><span class="pre">get_redis_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.database.db.get_redis_client" title="Link to this definition">¶</a></dt>
<dd><p>Asynchronously creates a Redis client using aioredis.</p>
<p>Parameters:
None</p>
<p>Returns:
aioredis.Redis: An asynchronous Redis client.</p>
<p>Raises:
HTTPException: If a RedisError occurs during client creation, a 500 error is raised.</p>
</dd></dl>

</section>
<section id="module-src.celery.worker">
<span id="rest-api-celery"></span><h1>REST API Celery<a class="headerlink" href="#module-src.celery.worker" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.celery.worker.process_reply">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.celery.worker.</span></span><span class="sig-name descname"><span class="pre">process_reply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.celery.worker.process_reply" title="Link to this definition">¶</a></dt>
<dd><p>This task is responsible for sending an automatic reply to a comment.
This asynchronous function is responsible for creating and adding a new comment as an automatic reply to an existing comment.</p>
<p>Parameters:
- comment_id (int): The ID of the comment to which the automatic reply will be sent.</p>
<p>Returns:
- None: This function does not return any value. It sends an automatic reply to the specified comment.
The function first creates a new event loop and sets it as the current event loop. Then, it runs the <cite>process_reply</cite> function asynchronously using the event loop. Finally, it closes the event loop.
- None: This function does not return any value. It creates and adds a new comment as an automatic reply to the specified comment.</p>
<p>The function first retrieves the comment and its associated post from the database using the provided comment ID. If the comment or its associated post does not exist, the function returns without performing any further actions. If the post exists and its automatic reply feature is enabled, the function generates a reply content using the <cite>generate_reply</cite> function. Then, it creates a new Comment object with the generated reply content, the ID of the associated post, and the ID of the associated user. Finally, the new comment object is added to the database session and committed to the database.</p>
</dd></dl>

</section>
<section id="module-src.repository.analitics">
<span id="rest-api-repository-analitics"></span><h1>REST API repository Analitics<a class="headerlink" href="#module-src.repository.analitics" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.repository.analitics.get_comments_daily_breakdown">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.analitics.</span></span><span class="sig-name descname"><span class="pre">get_comments_daily_breakdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.analitics.get_comments_daily_breakdown" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a daily breakdown of the number of comments added within a specified period.</p>
<p>Args:
- date_from (datetime): The start of the period to count comments.
- date_to (datetime): The end of the period to count comments.
- db (AsyncSession): The database session.</p>
<p>Returns:
- dict: A dictionary where each key is a date, and the value is the number of comments on that date.</p>
</dd></dl>

</section>
<section id="module-src.repository.comments">
<span id="rest-api-repository-comments"></span><h1>REST API repository Comments<a class="headerlink" href="#module-src.repository.comments" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.create_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">create_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CommentModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">censored</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.create_comment" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new comment in the database and associates it with the provided user.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>body (CommentModel): The data for the new comment.</p></li>
<li><p>db (AsyncSession): The database session.</p></li>
<li><p>user (User): The user who is creating the comment.</p></li>
<li><p>censored (bool): A flag indicating whether the comment should be censored. Default is False.</p></li>
</ul>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>Comment: The newly created comment object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.delete_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">delete_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.delete_comment" title="Link to this definition">¶</a></dt>
<dd><p>Deletes a comment from the database by its ID and associated with the provided user.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to delete.</p></li>
<li><p>db (AsyncSession): The database session.</p></li>
<li><p>user (User): The user who is deleting the comment.</p></li>
</ul>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>Comment | None: The deleted Comment object if the comment exists, otherwise None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.get_censored_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">get_censored_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.get_censored_comments" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves all censored comments with pagination.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>limit (int): The maximum number of comments to retrieve.</p></li>
<li><p>offset (int): The index from which to start retrieving comments.</p></li>
<li><p>db (AsyncSession): The database session.</p></li>
</ul>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>list: A list of censored Comment objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.get_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">get_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.get_comment" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a specific comment from the database by its ID.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to retrieve.</p></li>
<li><p>db (AsyncSession): The database session.</p></li>
</ul>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>Comment: The Comment object with the specified ID, or None if the comment does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.get_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">get_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.get_comments" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves all uncensored comments from the database.</p>
<dl class="simple">
<dt>Args: </dt><dd><p>-db (AsyncSession): The database session.</p>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>list: A list of uncensored Comment objects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.comments.update_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.comments.</span></span><span class="sig-name descname"><span class="pre">update_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CommentUpdateSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">censored</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.comments.update_comment" title="Link to this definition">¶</a></dt>
<dd><p>Updates an existing comment in the database and associates it with the provided user.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to update.</p></li>
<li><p>body (CommentUpdateSchema): The data for the updated comment.</p></li>
<li><p>db (AsyncSession): The database session.</p></li>
<li><p>user (User): The user who is updating the comment.</p></li>
<li><p>censored (bool): A flag indicating whether the comment should be censored. Default is False.</p></li>
</ul>
</dd>
<dt>Returns: </dt><dd><ul class="simple">
<li><p>Comment: The updated Comment object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.repository.posts">
<span id="rest-api-repository-posts"></span><h1>REST API repository Posts<a class="headerlink" href="#module-src.repository.posts" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.create_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">create_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PostSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">censored</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.create_post" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new post for the specified user.</p>
<p>Args:
- body (PostSchema): The schema containing the details of the new post.
- db (AsyncSession): The database session.
- user (User): The user for whom the contact is being created.</p>
<p>Raises:
- HTTPException: If a post with the same title and content already exists.</p>
<p>Returns:
- Post: The newly created post object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.delete_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">delete_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.delete_post" title="Link to this definition">¶</a></dt>
<dd><p>Deletes a specific post by its id for the specified user.</p>
<p>Args:
- post_id (int): The id of the post to delete.
- db (AsyncSession): The database session.
- user (User): The user for whom the contact is being deleted.</p>
<p>Returns:
- Post or None: The specific post object for the specified user and contact_id, or None if not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.get_censored_posts">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">get_censored_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.get_censored_posts" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a list of posts with censored = True within the specified limit and offset.</p>
<p>Args:
- limit (int): The maximum number of posts to retrieve.
- offset (int): The index from which to start retrieving posts.
- db (AsyncSession): The database session.</p>
<p>Returns:
- list: A list of Post objects with censored = True within the specified limit and offset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.get_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">get_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.get_post" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a specific post by its id for the specified user.</p>
<p>Args:
- post_id (int): The id of the contact to retrieve.
- db (AsyncSession): The database session.
- user (User): The user for whom the contact is being retrieved.</p>
<p>Returns:
- Post or None: The specific contact object for the specified user and post_id, or None if not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.get_post_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">get_post_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.get_post_comments" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a list of comments for a specific post.</p>
<p>Args:
- post_id (int): The id of the post for which to retrieve comments.
- db (AsyncSession): The database session.</p>
<p>Returns:
- list: A list of Comment objects for the specified post.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.get_post_status">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">get_post_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.get_post_status" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the status of a specific post by its id.</p>
<p>Args:
- post_id (int): The id of the post to retrieve the status.
- db (AsyncSession): The database session.</p>
<p>Returns:
- StatusPost or None: The status of the post or None if not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.get_posts">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">get_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.get_posts" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a list of posts for the specified user within the specified limit and offset.</p>
<p>Args:
- limit (int): The maximum number of posts to retrieve.
- offset (int): The index from which to start retrieving posts.
- db (AsyncSession): The database session.
- user (User): The user for whom the posts are being retrieved.</p>
<p>Returns:
- list: A list of Post objects for the specified user within the specified limit and offset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.update_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">update_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PostUpdateSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">censored</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.update_post" title="Link to this definition">¶</a></dt>
<dd><p>Updates a specific post by its id for the specified user.</p>
<p>Args:
- post_id (int): The id of the post to update.
- body (PostUpdateSchema): The schema containing the details of the updated post.
- db (AsyncSession): The database session.
- user (User): The user for whom the contact is being updated.</p>
<p>Returns:
- Post: The updated post object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.posts.update_post_status">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.posts.</span></span><span class="sig-name descname"><span class="pre">update_post_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StatusPostEnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.posts.update_post_status" title="Link to this definition">¶</a></dt>
<dd><p>Updates the status of a specific post by its id.</p>
<p>Args:
- post_id (int): The id of the post to update the status.
- new_status (StatusPostEnum): The new status to set for the post.
- db (AsyncSession): The database session.</p>
<p>Returns:
- Post: The updated post object with the new status.</p>
</dd></dl>

</section>
<section id="module-src.repository.users">
<span id="rest-api-repository-users"></span><h1>REST API repository Users<a class="headerlink" href="#module-src.repository.users" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.repository.users.confirmed_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.users.</span></span><span class="sig-name descname"><span class="pre">confirmed_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.users.confirmed_email" title="Link to this definition">¶</a></dt>
<dd><p>Confirms the email for the given user in the database.</p>
<p>Args:
- email (str): The email address of the user to confirm.
- db (AsyncSession): The database session to use for the update.</p>
<p>Returns:
- None: This function does not return a value.</p>
<p>Raises:
- None: This function does not raise any exceptions.</p>
<p>This function confirms the email for the given user in the database. It retrieves the user object from the database using the provided email address, sets the <cite>confirmed</cite> attribute of the user to <cite>True</cite>, and then commits the changes to the database. Finally, it refreshes the user object to ensure that the changes are reflected in the returned object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.users.create_user">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.users.</span></span><span class="sig-name descname"><span class="pre">create_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UserSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.users.create_user" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new user in the database.</p>
<p>Args:
- body (UserSchema): The user schema containing the user’s data.
- db (AsyncSession, optional): The database session to use for the query. Defaults to Depends(get_db).</p>
<p>Returns:
- User: The newly created user object.</p>
<p>Raises:
- HTTPException: If an error occurs while creating the user.</p>
<p>This function first generates an avatar for the user using the Gravatar library. If an error occurs during this process, it raises an HTTPException with a status code of 500 (Internal Server Error). It then creates a new User object using the data from the provided UserSchema, sets the avatar, and adds it to the database session. Finally, it commits the changes to the database and refreshes the user object before returning it.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.users.get_user_by_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.users.</span></span><span class="sig-name descname"><span class="pre">get_user_by_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.users.get_user_by_email" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves a user from the database by their email address.</p>
<p>Args:
- email (str): The email address of the user to retrieve.
- db (AsyncSession, optional): The database session to use for the query. Defaults to Depends(get_db).</p>
<p>Returns:
- User | None: The user object if found, otherwise None.</p>
<p>Raises:
- HTTPException: If an error occurs while retrieving the user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.users.update_password">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.users.</span></span><span class="sig-name descname"><span class="pre">update_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.users.update_password" title="Link to this definition">¶</a></dt>
<dd><p>Updates the password for the given user in the database.</p>
<p>Args:
- user (User): The user object to update the password for.
- new_password (str): The new password to set for the user.
- db (AsyncSession): The database session to use for the update.</p>
<p>Returns:
- User: The updated user object with the new password.</p>
<p>Raises:
- None: This function does not raise any exceptions.</p>
<p>This function updates the password for the given user in the database. It retrieves the user object from the database using the provided user object, sets the <cite>password</cite> attribute of the user to the new password, and then commits the changes to the database. Finally, it refreshes the user object to ensure that the changes are reflected in the returned object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.repository.users.update_token">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.repository.users.</span></span><span class="sig-name descname"><span class="pre">update_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refresh_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.repository.users.update_token" title="Link to this definition">¶</a></dt>
<dd><p>Updates the refresh token for the given user in the database.</p>
<p>Args:
- user (User): The user object to update the refresh token for.
- refresh_token (str | None): The new refresh token to set for the user, or None to remove the refresh token.
- db (AsyncSession): The database session to use for the update.</p>
<p>Returns:
- None: This function does not return a value.</p>
<p>Raises:
- None: This function does not raise any exceptions.</p>
<p>This function updates the refresh token for the given user in the database. If refresh_token is None, the refresh token for the user is removed. The changes are then committed to the database.</p>
</dd></dl>

</section>
<section id="module-src.routes.analitics">
<span id="rest-api-routes-analitics"></span><h1>REST API routes Analitics<a class="headerlink" href="#module-src.routes.analitics" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.routes.analitics.get_comments_daily_breakdown">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.analitics.</span></span><span class="sig-name descname"><span class="pre">get_comments_daily_breakdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(PydanticUndefined)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(PydanticUndefined)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.analitics.get_comments_daily_breakdown" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a daily breakdown of comment counts for posts within a specified period.</p>
<p>Parameters:
- date_from (datetime): The start date of the period to count comments.
- date_to (datetime): The end date of the period to count comments.
- db (AsyncSession): The database session to use for the operation.</p>
<p>Returns:
- dict: A dictionary where each key is a date, and the value is the number of comments on that date.</p>
</dd></dl>

</section>
<section id="module-src.routes.auth">
<span id="rest-api-routes-auth"></span><h1>REST API routes Auth<a class="headerlink" href="#module-src.routes.auth" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.confirmed_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">confirmed_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.confirmed_email" title="Link to this definition">¶</a></dt>
<dd><p>Confirm the user’s email address.</p>
<p>Parameters:
- token (str): The token sent to the user’s email address for confirmation.
- db (AsyncSession): The database session.</p>
<p>Returns:
- dict: A dictionary containing a message indicating whether the email address has been confirmed.</p>
<p>Raises:
- HTTPException: If the token is invalid or expired.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.confirmed_reset_password_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">confirmed_reset_password_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.confirmed_reset_password_email" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the reset password form for the user with the given token.</p>
<p>Parameters:
- token (str): The token sent to the user’s email address for resetting the password.
- request (Request): The HTTP request object.
- db (AsyncSession): The database session.</p>
<p>Returns:
- TemplateResponse: A Flask template response containing the reset password form.</p>
<p>Raises:
- HTTPException: If the token is invalid or expired.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.get_cash">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">get_cash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_redis_client)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.get_cash" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the value associated with the given key from the Redis cache.</p>
<p>Parameters:
- key (str): The key to be retrieved from the cache.
- redis_client (Redis): The Redis client used to interact with the cache.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- dict: A dictionary containing the key and its associated value in the cache.</p>
<p>Raises:
- HTTPException: If the user is not authenticated.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.login">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OAuth2PasswordRequestForm</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(NoneType)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.login" title="Link to this definition">¶</a></dt>
<dd><p>Logs in a user and returns a JWT token.</p>
<p>Parameters:
- body (OAuth2PasswordRequestForm): The user credentials.
- db (AsyncSession): The database session.</p>
<p>Returns:
- TokenSchema: A dictionary containing the access token, refresh token, and token type.</p>
<p>Raises:
- HTTPException: If the user does not exist, if the user is not confirmed, or if the password is incorrect.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.refresh_token">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">refresh_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HTTPAuthorizationCredentials</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Security(HTTPBearer)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.refresh_token" title="Link to this definition">¶</a></dt>
<dd><p>Refresh the user’s access token.</p>
<p>Parameters:
- credentials (HTTPAuthorizationCredentials): The HTTP Authorization header containing the refresh token.
- db (AsyncSession): The database session.</p>
<p>Returns:
- TokenSchema: A dictionary containing the new access token, refresh token, and token type.</p>
<p>Raises:
- HTTPException: If the refresh token is invalid or expired.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.request_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">request_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RequestEmail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BackgroundTasks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.request_email" title="Link to this definition">¶</a></dt>
<dd><p>Request a confirmation email for the user’s email address.</p>
<p>Parameters:
- body (RequestEmail): A dictionary containing the user’s email address.
- background_tasks (BackgroundTasks): A task manager for asynchronous tasks.
- request (Request): The HTTP request object.
- db (AsyncSession): The database session.</p>
<p>Returns:
- dict: A dictionary containing a message indicating whether the email address has been confirmed.</p>
<p>Raises:
- HTTPException: If the user already has a confirmed email address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.request_password_reset">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">request_password_reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RequestEmail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BackgroundTasks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.request_password_reset" title="Link to this definition">¶</a></dt>
<dd><p>Request a password reset email for the user’s email address.</p>
<p>Parameters:
- body (RequestEmail): A dictionary containing the user’s email address.
- background_tasks (BackgroundTasks): A task manager for asynchronous tasks.
- request (Request): The HTTP request object.
- db (AsyncSession): The database session.</p>
<p>Returns:
- dict: A dictionary containing a message indicating whether the email address has been confirmed.</p>
<p>Raises:
- HTTPException: If the user already has a confirmed email address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.reset_password">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">reset_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Form(PydanticUndefined)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Form(PydanticUndefined)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.reset_password" title="Link to this definition">¶</a></dt>
<dd><p>Reset the user’s password using a token sent to their email address.</p>
<p>Parameters:
- token (str): The token sent to the user’s email address for resetting the password.
- new_password (str): The new password to be set for the user.
- db (AsyncSession): The database session.</p>
<p>Returns:
- JSONResponse: A JSON response containing a message indicating the success of the password reset.</p>
<p>Raises:
- HTTPException: If the token is invalid or expired, or if the user is not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.set_cash">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">set_cash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_redis_client)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.set_cash" title="Link to this definition">¶</a></dt>
<dd><p>Sets a key-value pair in the Redis cache.</p>
<p>Parameters:
- key (str): The key to be set in the cache.
- value (str): The value to be associated with the key in the cache.
- redis_client (Redis): The Redis client used to interact with the cache.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- None: This method does not return a value.</p>
<p>Raises:
- HTTPException: If the user is not authenticated.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.auth.signup">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.auth.</span></span><span class="sig-name descname"><span class="pre">signup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UserSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BackgroundTasks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.auth.signup" title="Link to this definition">¶</a></dt>
<dd><p>Sign up a new user.</p>
<p>Parameters:
- body (UserSchema): The user data to be created.
- bt (BackgroundTasks): A task manager for asynchronous tasks.
- request (Request): The HTTP request object.
- db (AsyncSession): The database session.</p>
<p>Returns:
- UserResponseSchema: The newly created user object.</p>
<p>Raises:
- HTTPException: If the user already exists.</p>
</dd></dl>

</section>
<section id="module-src.routes.comments">
<span id="rest-api-routes-comments"></span><h1>REST API routes Comments<a class="headerlink" href="#module-src.routes.comments" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.create_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">create_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CommentModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.create_comment" title="Link to this definition">¶</a></dt>
<dd><p>Create a new comment for a specific post.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>body (CommentModel): A model representing the content and other details of the comment.</p></li>
<li><p>db (AsyncSession): An asynchronous database session.</p></li>
<li><p>user (User): The user who is creating the comment.#</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>CommentResponseSchema: A model representing the created comment.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.delete_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">delete_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.delete_comment" title="Link to this definition">¶</a></dt>
<dd><p>Delete a specific comment by its ID.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to delete.</p></li>
<li><p>db (AsyncSession): An asynchronous database session.</p></li>
<li><p>user (User): The user who is authorized to delete the comment.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>CommentResponseSchema or None: The deleted comment object, or None if the comment was not found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.get_censored_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">get_censored_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.get_censored_comments" title="Link to this definition">¶</a></dt>
<dd><p>Get all censored comments from the database.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>limit (int, default=10): The maximum number of comments to return.</p></li>
<li><p>offset (int, default=0): The index of the first comment to return.</p></li>
<li><p>db (AsyncSession): An asynchronous database session.</p></li>
<li><p>user (User): The user who is authorized to access the comments.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>List[CommentResponseSchema] or []: A list of CommentResponseSchema objects representing all censored comments in the database, or an empty list if no censored comments are found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.get_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">get_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.get_comment" title="Link to this definition">¶</a></dt>
<dd><p>Get a specific comment by its ID.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to retrieve.</p></li>
<li><p>db (AsyncSession): An asynchronous database session.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>CommentResponseSchema: A model representing the specific comment with its content, post ID, and user ID.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.get_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">get_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.get_comments" title="Link to this definition">¶</a></dt>
<dd><p>Get all comments from the database.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>db (<cite>AsyncSession</cite>): An asynchronous database session.</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><ul class="simple">
<li><p>List[CommentResponseSchema]**: A list of CommentResponseSchema objects representing all comments in the database.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.comments.update_comment">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.comments.</span></span><span class="sig-name descname"><span class="pre">update_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CommentUpdateSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.comments.update_comment" title="Link to this definition">¶</a></dt>
<dd><p>Update an existing comment by its ID.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>comment_id (int): The unique identifier of the comment to update.</p></li>
<li><p>body (CommentUpdateSchema): A model representing the updated content and other details of the comment.</p></li>
<li><p>db (AsyncSession): An asynchronous database session.</p></li>
<li><p>user (User): The user who is authorized to update the comment.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>CommentResponseSchema: A model representing the updated comment.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.routes.posts">
<span id="rest-api-routes-posts"></span><h1>REST API routes Posts<a class="headerlink" href="#module-src.routes.posts" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.create_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">create_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PostSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.create_post" title="Link to this definition">¶</a></dt>
<dd><p>Create a new post.</p>
<p>Parameters:
- body (PostSchema): The data of the new post to be created.
- db (AsyncSession): The database session to use for the operation.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- ContactResponseSchema: The newly created contact data.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.delete_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">delete_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.delete_post" title="Link to this definition">¶</a></dt>
<dd><p>Delete a post by its ID.</p>
<p>Parameters:
- post_id (int): The ID of the post to delete.
- db (AsyncSession): The database session to use for the operation.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- PostResponseSchema: The deleted post data.
- HTTPException: If the contact with the specified ID is not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.get_censored_posts">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">get_censored_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.get_censored_posts" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a list of posts where censored = True.</p>
<p>Parameters:
- limit (int): The maximum number of posts to return.
- offset (int): The index of the first post to retrieve.</p>
<p>Returns:
- List[PostResponseSchema]: A list of censored posts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.get_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">get_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.get_post" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a specific post by its ID.</p>
<p>Parameters:
- post_id (int): The unique identifier of the post to retrieve.
- db (AsyncSession): The database session to use for the operation.</p>
<p>Returns:
- PostResponseSchema: The data of the specific post. If the post is not found, an HTTPException with status code 404 and detail “Post not found” is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.get_post_comments">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">get_post_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.get_post_comments" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve the comments of a specific post.</p>
<p>Parameters:
- post_id (int): The unique identifier of the post for which the comments are to be retrieved.
- db (AsyncSession): The database session to use for the operation.</p>
<p>Returns:
- List[CommentResponseSchema]: A list of comments associated with the specified post. If no comments are found, an empty list is returned.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.get_post_status">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">get_post_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.get_post_status" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve the status of a specific post.</p>
<p>Parameters:
- post_id (int): The ID of the post for which the status is to be retrieved.
- db (AsyncSession): The database session to use for the operation.</p>
<p>Returns:
- StatusPostEnum: The status of the post.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.get_posts">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">get_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Query(0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.get_posts" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a list of posts.</p>
<p>Parameters:
- skip (int): The number of posts to skip. Default is 0.
- limit (int): The maximum number of posts to return. Default is 100.
- offset (int): The index of the first contact to retrieve. Default is 0.
- db (Session): The database session. It is obtained using the <cite>get_db</cite> dependency.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- List[PostResponseSchema]: A list of posts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.update_post">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">update_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PostUpdateSchema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.update_post" title="Link to this definition">¶</a></dt>
<dd><p>Update an existing post.</p>
<p>Parameters:
- body (PostUpdateSchema): The updated post data.
- post_id (int): The ID of the post to update.
- db (AsyncSession): The database session to use for the operation.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- PostResponseSchema: The updated post data.
- HTTPException: If the post with the specified ID is not found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.routes.posts.update_post_status">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.posts.</span></span><span class="sig-name descname"><span class="pre">update_post_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StatusPostEnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.posts.update_post_status" title="Link to this definition">¶</a></dt>
<dd><p>Update the status of a specific post.</p>
<p>Parameters:
- post_id (int): The ID of the post to update the status.
- new_status (StatusPostEnum): The new status to set for the post.
- db (AsyncSession): The database session to use for the operation.</p>
<p>Returns:
- PostResponseSchema: The updated post data with the new status.</p>
</dd></dl>

</section>
<section id="module-src.routes.users">
<span id="rest-api-routes-users"></span><h1>REST API routes Users<a class="headerlink" href="#module-src.routes.users" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.routes.users.get_current_user">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.routes.users.</span></span><span class="sig-name descname"><span class="pre">get_current_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">User</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.routes.users.get_current_user" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the current authenticated user’s information.</p>
<p>Parameters:
- user (User): The authenticated user object obtained from the auth_service.</p>
<p>Returns:
- UserResponseSchema: The current authenticated user’s information in the specified response model format.</p>
<p>This endpoint is protected by a rate limiter that allows no more than 2 requests per 10 seconds.</p>
</dd></dl>

</section>
<section id="module-src.services.ai">
<span id="rest-api-services-ai"></span><h1>REST API services AI<a class="headerlink" href="#module-src.services.ai" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.services.ai.generate_reply">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.services.ai.</span></span><span class="sig-name descname"><span class="pre">generate_reply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">post_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.services.ai.generate_reply" title="Link to this definition">¶</a></dt>
<dd><p>Generates a relevant and useful response to a comment on a post, using the Google Reply API.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>post_content (str): The content of the post for which a response to the comment is being generated.</p></li>
<li><p>comment_content (str): The content of the comment for which a response is being generated.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>str: A response to the comment that is relevant and useful, generated by the Google Reply API. If an error occurs during the generation process, a default response “Дякую за ваш коментар!” is returned.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.services.auth">
<span id="rest-api-services-auth"></span><h1>REST API services Auth<a class="headerlink" href="#module-src.services.auth" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="src.services.auth.Auth">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.services.auth.</span></span><span class="sig-name descname"><span class="pre">Auth</span></span><a class="headerlink" href="#src.services.auth.Auth" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.create_access_token">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_access_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires_delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.create_access_token" title="Link to this definition">¶</a></dt>
<dd><p>Generates an access token for the user.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data (dict): A dictionary containing user-specific data.
expires_delta (Optional[float], optional): The time in seconds that the token should be valid for. Defaults to 15 minutes.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated access token.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If the token generation process fails.</p>
</dd>
<dt>Note:</dt><dd><p>The token is generated using the JWT library with the provided SECRET_KEY and ALGORITHM.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.create_email_token">
<span class="sig-name descname"><span class="pre">create_email_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.create_email_token" title="Link to this definition">¶</a></dt>
<dd><p>Generates an email token for the user.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data (dict): A dictionary containing user-specific data.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated email token.</p>
</dd>
<dt>Note:</dt><dd><p>The token is generated using the JWT library with the provided SECRET_KEY and ALGORITHM.
The token has a validity of 1 day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.create_refresh_token">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_refresh_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires_delta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.create_refresh_token" title="Link to this definition">¶</a></dt>
<dd><p>Generates a refresh token for the user.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data (dict): A dictionary containing user-specific data.
expires_delta (Optional[float], optional): The time in seconds that the token should be valid for. Defaults to 7 days.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated refresh token.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If the token generation process fails.</p>
</dd>
<dt>Note:</dt><dd><p>The token is generated using the JWT library with the provided SECRET_KEY and ALGORITHM.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.decode_refresh_token">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decode_refresh_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refresh_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.decode_refresh_token" title="Link to this definition">¶</a></dt>
<dd><p>Decodes a refresh token to retrieve the user’s email.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>refresh_token (str): The refresh token to be decoded.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The user’s email if the token is valid and has a valid scope.</p>
</dd>
<dt>Raises:</dt><dd><p>HTTPException: If the token cannot be decoded or has an invalid scope.</p>
</dd>
<dt>Note:</dt><dd><p>The token is decoded using the JWT library with the provided SECRET_KEY and ALGORITHM.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.get_current_user">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_current_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(OAuth2PasswordBearer)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AsyncSession</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redis_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_redis_client)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.get_current_user" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the current user from the token provided.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>token (str): The token to be decoded and validated.
db (AsyncSession, optional): The database session to be used for retrieving user data. Defaults to Depends(get_db).
redis_client (Redis, optional): The Redis client to be used for caching user data. Defaults to Depends(get_redis_client).</p>
</dd>
<dt>Returns:</dt><dd><p>User: The current user object if the token is valid and has a valid scope.</p>
</dd>
<dt>Raises:</dt><dd><p>HTTPException: If the token cannot be decoded or has an invalid scope.</p>
</dd>
<dt>Note:</dt><dd><p>The token is decoded using the JWT library with the provided SECRET_KEY and ALGORITHM.
If the user data is found in Redis, it is returned directly. Otherwise, the user data is retrieved from the database and cached in Redis before being returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.get_email_from_token">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_email_from_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.get_email_from_token" title="Link to this definition">¶</a></dt>
<dd><p>Decodes a token to retrieve the user’s email.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>token (str): The token to be decoded.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The user’s email if the token is valid.</p>
</dd>
<dt>Raises:</dt><dd><p>HTTPException: If the token cannot be decoded or has an invalid scope.</p>
</dd>
<dt>Note:</dt><dd><p>The token is decoded using the JWT library with the provided SECRET_KEY and ALGORITHM.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.get_password_hash">
<span class="sig-name descname"><span class="pre">get_password_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.get_password_hash" title="Link to this definition">¶</a></dt>
<dd><p>Hashes the given password using the bcrypt algorithm.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>password (str): The plain text password to be hashed.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The hashed password as a string.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If the password context is not initialized.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.services.auth.Auth.pwd_context">
<span class="sig-name descname"><span class="pre">pwd_context</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;CryptContext&gt;</span></em><a class="headerlink" href="#src.services.auth.Auth.pwd_context" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.services.auth.Auth.verify_password">
<span class="sig-name descname"><span class="pre">verify_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plain_password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashed_password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.auth.Auth.verify_password" title="Link to this definition">¶</a></dt>
<dd><p>Verifies if the plain password matches the hashed password.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>plain_password (str): The plain text password to be verified.
hashed_password (str): The hashed password to be compared with the plain text password.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: Returns True if the plain password matches the hashed password, otherwise False.</p>
</dd>
<dt>Raises:</dt><dd><p>Exception: If the password context is not initialized.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.services.email">
<span id="rest-api-services-email"></span><h1>REST API services Email<a class="headerlink" href="#module-src.services.email" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.services.email.send_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.services.email.</span></span><span class="sig-name descname"><span class="pre">send_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">EmailStr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.email.send_email" title="Link to this definition">¶</a></dt>
<dd><p>Get a list of contacts.</p>
<p>Parameters:
- limit (int): The maximum number of contacts to retrieve. Default is 10, minimum is 1, and maximum is 500.
- offset (int): The index of the first contact to retrieve. Default is 0.
- db (AsyncSession): The database session to use for the operation.
- user (User): The authenticated user making the request.</p>
<p>Returns:
- list[ContactResponseSchema]: A list of ContactResponseSchema objects representing the contacts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.services.email.send_password_reset_email">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.services.email.</span></span><span class="sig-name descname"><span class="pre">send_password_reset_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">EmailStr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.services.email.send_password_reset_email" title="Link to this definition">¶</a></dt>
<dd><p>Sends a password reset email to the specified user.</p>
<p>Parameters:
- email (EmailStr): The email address of the user to send the password reset email to.
- username (str): The username of the user to send the password reset email to.
- host (str): The hostname of the website or application.</p>
<p>Returns:
- None: This function does not return any value. It sends an email asynchronously.</p>
<p>Raises:
- ConnectionErrors: If there is an error connecting to the email service.</p>
</dd></dl>

</section>
<section id="module-src.services.profanity_checker">
<span id="rest-api-services-moderation"></span><h1>REST API services Moderation<a class="headerlink" href="#module-src.services.profanity_checker" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="src.services.profanity_checker.contains_profanity">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.services.profanity_checker.</span></span><span class="sig-name descname"><span class="pre">contains_profanity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.services.profanity_checker.contains_profanity" title="Link to this definition">¶</a></dt>
<dd><p>Checks if the given text contains profanity or not.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>text (str): The input text to be checked for profanity.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>bool: Returns True if the text contains profanity, otherwise False.</p></li>
</ul>
</dd>
<dt>Raises:</dt><dd><ul class="simple">
<li><p>Exception: If there is an error while checking the profanity.</p></li>
</ul>
</dd>
</dl>
<p>This function sends a POST request to the Perspective API with the input text and checks if the text contains any profanity.
It uses the aiohttp library to make the HTTP request and handles any errors that may occur during the process.
The function returns True if the text contains profanity, and False otherwise.</p>
</dd></dl>

</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="#">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Posts and comments REST API documentation</a></li>
<li><a class="reference internal" href="#module-main">REST API main</a><ul>
<li><a class="reference internal" href="#main.database_healthchecker"><code class="docutils literal notranslate"><span class="pre">database_healthchecker()</span></code></a></li>
<li><a class="reference internal" href="#main.redis_healthchecker"><code class="docutils literal notranslate"><span class="pre">redis_healthchecker()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.database.db">REST API Database</a><ul>
<li><a class="reference internal" href="#src.database.db.get_db"><code class="docutils literal notranslate"><span class="pre">get_db()</span></code></a></li>
<li><a class="reference internal" href="#src.database.db.get_redis_client"><code class="docutils literal notranslate"><span class="pre">get_redis_client()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.celery.worker">REST API Celery</a><ul>
<li><a class="reference internal" href="#src.celery.worker.process_reply"><code class="docutils literal notranslate"><span class="pre">process_reply()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.repository.analitics">REST API repository Analitics</a><ul>
<li><a class="reference internal" href="#src.repository.analitics.get_comments_daily_breakdown"><code class="docutils literal notranslate"><span class="pre">get_comments_daily_breakdown()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.repository.comments">REST API repository Comments</a><ul>
<li><a class="reference internal" href="#src.repository.comments.create_comment"><code class="docutils literal notranslate"><span class="pre">create_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.comments.delete_comment"><code class="docutils literal notranslate"><span class="pre">delete_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.comments.get_censored_comments"><code class="docutils literal notranslate"><span class="pre">get_censored_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.comments.get_comment"><code class="docutils literal notranslate"><span class="pre">get_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.comments.get_comments"><code class="docutils literal notranslate"><span class="pre">get_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.comments.update_comment"><code class="docutils literal notranslate"><span class="pre">update_comment()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.repository.posts">REST API repository Posts</a><ul>
<li><a class="reference internal" href="#src.repository.posts.create_post"><code class="docutils literal notranslate"><span class="pre">create_post()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.delete_post"><code class="docutils literal notranslate"><span class="pre">delete_post()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.get_censored_posts"><code class="docutils literal notranslate"><span class="pre">get_censored_posts()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.get_post"><code class="docutils literal notranslate"><span class="pre">get_post()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.get_post_comments"><code class="docutils literal notranslate"><span class="pre">get_post_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.get_post_status"><code class="docutils literal notranslate"><span class="pre">get_post_status()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.get_posts"><code class="docutils literal notranslate"><span class="pre">get_posts()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.update_post"><code class="docutils literal notranslate"><span class="pre">update_post()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.posts.update_post_status"><code class="docutils literal notranslate"><span class="pre">update_post_status()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.repository.users">REST API repository Users</a><ul>
<li><a class="reference internal" href="#src.repository.users.confirmed_email"><code class="docutils literal notranslate"><span class="pre">confirmed_email()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.users.create_user"><code class="docutils literal notranslate"><span class="pre">create_user()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.users.get_user_by_email"><code class="docutils literal notranslate"><span class="pre">get_user_by_email()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.users.update_password"><code class="docutils literal notranslate"><span class="pre">update_password()</span></code></a></li>
<li><a class="reference internal" href="#src.repository.users.update_token"><code class="docutils literal notranslate"><span class="pre">update_token()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.routes.analitics">REST API routes Analitics</a><ul>
<li><a class="reference internal" href="#src.routes.analitics.get_comments_daily_breakdown"><code class="docutils literal notranslate"><span class="pre">get_comments_daily_breakdown()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.routes.auth">REST API routes Auth</a><ul>
<li><a class="reference internal" href="#src.routes.auth.confirmed_email"><code class="docutils literal notranslate"><span class="pre">confirmed_email()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.confirmed_reset_password_email"><code class="docutils literal notranslate"><span class="pre">confirmed_reset_password_email()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.get_cash"><code class="docutils literal notranslate"><span class="pre">get_cash()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.login"><code class="docutils literal notranslate"><span class="pre">login()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.refresh_token"><code class="docutils literal notranslate"><span class="pre">refresh_token()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.request_email"><code class="docutils literal notranslate"><span class="pre">request_email()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.request_password_reset"><code class="docutils literal notranslate"><span class="pre">request_password_reset()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.reset_password"><code class="docutils literal notranslate"><span class="pre">reset_password()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.set_cash"><code class="docutils literal notranslate"><span class="pre">set_cash()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.auth.signup"><code class="docutils literal notranslate"><span class="pre">signup()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.routes.comments">REST API routes Comments</a><ul>
<li><a class="reference internal" href="#src.routes.comments.create_comment"><code class="docutils literal notranslate"><span class="pre">create_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.comments.delete_comment"><code class="docutils literal notranslate"><span class="pre">delete_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.comments.get_censored_comments"><code class="docutils literal notranslate"><span class="pre">get_censored_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.comments.get_comment"><code class="docutils literal notranslate"><span class="pre">get_comment()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.comments.get_comments"><code class="docutils literal notranslate"><span class="pre">get_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.comments.update_comment"><code class="docutils literal notranslate"><span class="pre">update_comment()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.routes.posts">REST API routes Posts</a><ul>
<li><a class="reference internal" href="#src.routes.posts.create_post"><code class="docutils literal notranslate"><span class="pre">create_post()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.delete_post"><code class="docutils literal notranslate"><span class="pre">delete_post()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.get_censored_posts"><code class="docutils literal notranslate"><span class="pre">get_censored_posts()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.get_post"><code class="docutils literal notranslate"><span class="pre">get_post()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.get_post_comments"><code class="docutils literal notranslate"><span class="pre">get_post_comments()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.get_post_status"><code class="docutils literal notranslate"><span class="pre">get_post_status()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.get_posts"><code class="docutils literal notranslate"><span class="pre">get_posts()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.update_post"><code class="docutils literal notranslate"><span class="pre">update_post()</span></code></a></li>
<li><a class="reference internal" href="#src.routes.posts.update_post_status"><code class="docutils literal notranslate"><span class="pre">update_post_status()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.routes.users">REST API routes Users</a><ul>
<li><a class="reference internal" href="#src.routes.users.get_current_user"><code class="docutils literal notranslate"><span class="pre">get_current_user()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.services.ai">REST API services AI</a><ul>
<li><a class="reference internal" href="#src.services.ai.generate_reply"><code class="docutils literal notranslate"><span class="pre">generate_reply()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.services.auth">REST API services Auth</a><ul>
<li><a class="reference internal" href="#src.services.auth.Auth"><code class="docutils literal notranslate"><span class="pre">Auth</span></code></a><ul>
<li><a class="reference internal" href="#src.services.auth.Auth.create_access_token"><code class="docutils literal notranslate"><span class="pre">Auth.create_access_token()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.create_email_token"><code class="docutils literal notranslate"><span class="pre">Auth.create_email_token()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.create_refresh_token"><code class="docutils literal notranslate"><span class="pre">Auth.create_refresh_token()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.decode_refresh_token"><code class="docutils literal notranslate"><span class="pre">Auth.decode_refresh_token()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.get_current_user"><code class="docutils literal notranslate"><span class="pre">Auth.get_current_user()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.get_email_from_token"><code class="docutils literal notranslate"><span class="pre">Auth.get_email_from_token()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.get_password_hash"><code class="docutils literal notranslate"><span class="pre">Auth.get_password_hash()</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.pwd_context"><code class="docutils literal notranslate"><span class="pre">Auth.pwd_context</span></code></a></li>
<li><a class="reference internal" href="#src.services.auth.Auth.verify_password"><code class="docutils literal notranslate"><span class="pre">Auth.verify_password()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.services.email">REST API services Email</a><ul>
<li><a class="reference internal" href="#src.services.email.send_email"><code class="docutils literal notranslate"><span class="pre">send_email()</span></code></a></li>
<li><a class="reference internal" href="#src.services.email.send_password_reset_email"><code class="docutils literal notranslate"><span class="pre">send_password_reset_email()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.services.profanity_checker">REST API services Moderation</a><ul>
<li><a class="reference internal" href="#src.services.profanity_checker.contains_profanity"><code class="docutils literal notranslate"><span class="pre">contains_profanity()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Posts and comments REST API  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Posts and comments REST API documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Oleksandr Kharchenko.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>